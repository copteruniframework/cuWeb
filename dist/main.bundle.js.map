{"version":3,"file":"main.bundle.js","sources":["../assets/js/features/horizontal-slider.js","../assets/js/features/details-animate.js","../assets/js/features/currentYear.js","../assets/js/features/fab-scroll.js","../assets/js/features/global-nav.js","../assets/js/features/timer.js","../assets/js/main.js"],"sourcesContent":["// Slider-Horizontal\nexport function initHorizontalSlider() {\n  const debounce = (fn, delay = 100) => {\n    let t;\n    return (...args) => {\n      clearTimeout(t);\n      t = setTimeout(() => fn(...args), delay);\n    };\n  };\n\n  document.querySelectorAll('.horizontal_slider_container').forEach(slider => {\n    const wrapper = slider.querySelector('[data-slider=\"content\"]');\n    const btnRight = slider.querySelector('[data-slider=\"btn-right\"]');\n    const btnLeft = slider.querySelector('[data-slider=\"btn-left\"]');\n    const buttonGroup = slider.querySelector('.button_group_wrapper');\n    const wrapRightMain = btnRight?.closest('.button_main_wrap');\n    const wrapLeftMain = btnLeft?.closest('.button_main_wrap');\n\n    const getItems = () =>\n      wrapper.querySelectorAll('[data-slider=\"item\"]').length\n        ? Array.from(wrapper.querySelectorAll('[data-slider=\"item\"]'))\n        : Array.from(wrapper.children);\n\n    const scrollToItem = (index) => {\n      const items = getItems();\n      if (index < 0 || index >= items.length) return;\n      items[index].scrollIntoView({\n        behavior: 'smooth',\n        inline: 'center',\n        block: 'nearest' // ← verhindert vertikales Scrollen\n      });\n    };\n\n\n    const getCenteredIndex = () => {\n      const items = getItems();\n      const centerX = wrapper.getBoundingClientRect().left + wrapper.clientWidth / 2;\n      let closest = 0;\n      let minDist = Infinity;\n      items.forEach((item, i) => {\n        const rect = item.getBoundingClientRect();\n        const itemCenter = rect.left + rect.width / 2;\n        const dist = Math.abs(itemCenter - centerX);\n        if (dist < minDist) {\n          minDist = dist;\n          closest = i;\n        }\n      });\n      return closest;\n    };\n\n    const scrollToNext = () => scrollToItem(getCenteredIndex() + 1);\n    const scrollToPrevious = () => scrollToItem(getCenteredIndex() - 1);\n\n    const updateButtons = () => {\n      const scrollLeft = wrapper.scrollLeft;\n      const maxScrollLeft = wrapper.scrollWidth - wrapper.clientWidth;\n\n      const atStart = scrollLeft <= 0;\n      const atEnd = scrollLeft >= maxScrollLeft - 1;\n      const hasOverflow = wrapper.scrollWidth > wrapper.clientWidth;\n\n      if (!hasOverflow) {\n        buttonGroup?.style.setProperty('display', 'none');\n        wrapLeftMain?.style.setProperty('display', 'none');\n        wrapRightMain?.style.setProperty('display', 'none');\n        return;\n      }\n\n      buttonGroup?.style.setProperty('display', 'flex');\n      wrapLeftMain?.style.setProperty('display', atStart ? 'none' : 'flex');\n      wrapRightMain?.style.setProperty('display', atEnd ? 'none' : 'flex');\n    };\n\n    // Events\n    btnRight?.addEventListener('click', scrollToNext);\n    btnLeft?.addEventListener('click', scrollToPrevious);\n    wrapper?.addEventListener('scroll', debounce(updateButtons));\n    window.addEventListener('resize', debounce(updateButtons, 150));\n\n    setTimeout(updateButtons, 200); // Initialer Delay für Layout-Stabilität\n  });\n}","export function initDetailsAnimate() {\n    const HOVER_CLICK_DELAY = 750;\n    const hasGSAP = typeof window !== 'undefined' && !!window.gsap;\n\n    const isHoverAllowedForViewport = (breakpoint) => {\n        if (breakpoint == null) return true;\n        return window.innerWidth > breakpoint;\n    };\n\n    const getBool = (el, attr, defaultValue) => {\n        if (!el.dataset) return defaultValue;\n        const val = el.dataset[attr];\n        if (val === undefined) return defaultValue;\n        return val === 'true';\n    };\n\n    const getInt = (el, attr, defaultValue) => {\n        if (!el.dataset) return defaultValue;\n        const val = el.dataset[attr];\n        if (val === undefined || val === '') return defaultValue;\n        const n = parseInt(val, 10);\n        return Number.isNaN(n) ? defaultValue : n;\n    };\n\n    document.querySelectorAll('details').forEach(detail => {\n        const summary = detail.querySelector('summary');\n        const content = summary?.nextElementSibling;\n        if (!content) return;\n\n        const childEls = [...content.children];\n\n        const hoverEnabled = getBool(detail, 'hover', false);\n        const hoverMinWidth = getInt(detail, 'hoverMinWidth', null);\n        const hoverDelay = getInt(detail, 'hoverDelay', HOVER_CLICK_DELAY);\n        const wantsAnimation = getBool(detail, 'animate', true);\n\n        let hoverActive = false;\n        let hoverClickWindowActive = false;\n        let hoverClickTimeoutId;\n\n        const clearHoverClickTimeout = () => {\n            if (hoverClickTimeoutId) {\n                clearTimeout(hoverClickTimeoutId);\n                hoverClickTimeoutId = null;\n            }\n        };\n\n        // --- Unified state and outside-click management ---\n        let outsideHandler = null;\n        const autoclose = getBool(detail, 'autoclose', false);\n\n        const addOutside = () => {\n            if (!autoclose || outsideHandler) return;\n            outsideHandler = (e) => {\n                if (!detail.open) return;\n                const path = e.composedPath ? e.composedPath() : [];\n                const inside = path.length\n                    ? (path.includes(summary) || path.includes(content))\n                    : (summary.contains(e.target) || content.contains(e.target));\n                if (inside) return;\n                closePanel();\n            };\n            document.addEventListener('pointerdown', outsideHandler, { capture: true });\n        };\n\n        const removeOutside = () => {\n            if (!outsideHandler) return;\n            document.removeEventListener('pointerdown', outsideHandler, { capture: true });\n            outsideHandler = null;\n        };\n\n        // --- Animation adapter (GSAP or fallback) ---\n        const canAnimate = hasGSAP && wantsAnimation;\n        let tl = null;\n\n        const api = {\n            open: () => { detail.open = true; },\n            close: () => { detail.open = false; }\n        };\n\n        if (canAnimate) {\n            const gsap = window.gsap;\n            gsap.set(content, { height: 0, overflow: 'hidden' });\n            gsap.set(childEls, { opacity: 0 });\n\n            tl = gsap.timeline({\n                paused: true,\n                defaults: { duration: 0.35, ease: 'power2.out' },\n                onReverseComplete: () => {\n                    detail.open = false;\n                    removeOutside();\n                }\n            });\n\n            tl.set(detail, { attr: { open: '' } }, 0);\n            tl.to(content, { height: () => content.scrollHeight });\n            tl.set(content, { clearProps: 'height' });\n            tl.to(childEls, { opacity: 1, stagger: 0.04, duration: 0.38 }, '-=0.25');\n\n            api.open = () => { tl.invalidate().play(0); addOutside(); };\n            api.close = () => { tl.reverse(); };\n        }\n\n        // --- Unified open/close helpers ---\n        function openPanel() {\n            // wichtige Änderung: Flags und Timeout NICHT zurücksetzen,\n            // damit Hover→Click-Delay (hoverClickWindowActive) erhalten bleibt\n            api.open();\n            if (!canAnimate) addOutside();\n        }\n\n        function closePanel() {\n            // Flags und Timeout hier ebenfalls nicht anfassen; Mouseleave/Click-Handler steuern das explizit\n            api.close();\n            if (!canAnimate) removeOutside();\n        }\n\n        // --- Event listeners (deduplicated) ---\n        summary.addEventListener('click', (e) => {\n            e.preventDefault();\n            if (!detail.open) {\n                openPanel();\n            } else {\n                if (hoverActive && hoverClickWindowActive) {\n                    addOutside();\n                    return;\n                }\n                closePanel();\n            }\n        });\n\n        if (hoverEnabled) {\n            detail.addEventListener('mouseenter', () => {\n                if (!isHoverAllowedForViewport(hoverMinWidth)) return;\n                if (detail.open) return;\n\n                hoverActive = true;\n                hoverClickWindowActive = true;\n                clearHoverClickTimeout();\n                hoverClickTimeoutId = setTimeout(() => { hoverClickWindowActive = false; }, hoverDelay);\n                openPanel();\n            });\n\n            detail.addEventListener('mouseleave', () => {\n                if (!hoverActive) return;\n\n                hoverActive = false;\n                hoverClickWindowActive = false;\n                clearHoverClickTimeout();\n\n                if (detail.open) closePanel();\n            });\n        }\n    });\n}","/**\n * Setzt das **aktuelle Jahr** in alle `<time>`-Elemente mit `datetime=\"currentYear\"`.\n *\n * - Aktualisiert **sichtbaren Text** (`textContent`) und das **`datetime`-Attribut** (ISO-Jahr).\n * - Nützlich für Footer-Copyrights, damit keine jährliche manuelle Pflege nötig ist.\n *\n * @returns {void} Gibt keinen Wert zurück.\n *\n * @example\n * // HTML:\n * // <small class=\"u-display-block u-text-align-center\">\n * //   <span>Copyright © </span>\n * //   <time datetime=\"currentYear\"></time>\n * //   <span> Copteruni GmbH, alle Rechte vorbehalten.</span>\n * // </small>\n *\n * // JavaScript:\n * initCurrentYear();\n *\n * @example\n * // Als ES-Module nach DOM-Ladung:\n * document.addEventListener('DOMContentLoaded', () => {\n *   initCurrentYear();\n * });\n *\n * @since 1.0.0\n * @see https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-time-element\n */\nexport function initCurrentYear() {\n  const currentYear = String(new Date().getFullYear());\n  const nodes = document.querySelectorAll('time[datetime=\"currentYear\"]');\n  if (nodes.length === 0) return;\n\n  nodes.forEach(el => {\n    el.setAttribute('datetime', currentYear);\n    el.textContent = currentYear;\n  });\n}\n\n","export function initFABScrollShow() {\n  gsap.registerPlugin(ScrollTrigger);\n\n  document.querySelectorAll('.fab-section-center-bottom').forEach((fabEl) => {\n    const parent = fabEl.parentElement;\n\n    if (parent) {\n      // Ausgangszustand: versteckt\n      gsap.set(fabEl, { autoAlpha: 0 });\n\n      // ScrollTrigger mit reversiblem Verhalten\n      gsap.to(fabEl, {\n        autoAlpha: 1,\n        duration: 1,\n        ease: 'power2.out',\n        scrollTrigger: {\n          trigger: parent,\n          start: 'top+=150px bottom',\n          toggleActions: 'play none none reverse'\n        }\n      });\n    }\n  });\n}","/**\n * Initialisiert die globale Navigation mit responsivem Verhalten.\n * - Bei kleinen Bildschirmen (max-width: 1024px) wird das Menü in einen mobilen Stil umgewandelt.\n * - Ein Button toggelt das Menü mit einer Animation (GSAP).\n * - Scrollen wird beim geöffneten Menü gesperrt.\n * - Das Menü kann mit Escape oder durch erneutes Klicken auf den Button geschlossen werden.\n *\n * Voraussetzungen:\n * - GSAP v3 muss global verfügbar sein (`window.gsap`).\n * - HTML-Struktur:\n *   ```html\n *   <nav class=\"g_nav\">\n *     <button id=\"g_nav_btn_mobile_menu\" aria-expanded=\"false\">Menu</button>\n *     <div class=\"g_nav_menu\">\n *       <a class=\"g_nav_item\" href=\"#\">Item 1</a>\n *       <a class=\"g_nav_item\" href=\"#\">Item 2</a>\n *       ...\n *     </div>\n *   </nav>\n *   ```\n *\n * Zugänglichkeit:\n * - Der Button hat ein `aria-expanded`-Attribut, das den Zustand des Menüs widerspiegelt.\n * - Das Menü bleibt im DOM und wird nur visuell umpositioniert.\n *\n * @returns {void} Kein Rückgabewert.\n *\n * @example\n * // Initialisierung (Projektstil mit DOMContentLoaded)\n * document.addEventListener('DOMContentLoaded', () => {\n *   if (!window.gsap) return;\n *   initGlobalNav();\n * });\n *\n * @since 1.0.0\n * @see https://gsap.com/docs/v3/\n */\nexport function initGlobalNav() {\n  const nav = document.querySelector('.g_nav');\n  const btn = document.getElementById('g_nav_btn_mobile_menu');\n  const menu = document.querySelector('.g_nav_menu');\n  const items = menu.querySelectorAll('.g_nav_item');\n\n  // Ursprungsort merken (Platzhalter vor dem Menü einfügen)\n  const placeholder = document.createComment('g_nav_menu:placeholder');\n  menu.parentNode.insertBefore(placeholder, menu);\n\n  // --- simpler Scroll-Lock via Klasse auf <body> ---\n  const lockScroll = () => document.body.classList.add('u-overflow-hidden');\n  const unlockScroll = () => document.body.classList.remove('u-overflow-hidden');\n\n  const mm = gsap.matchMedia();\n\n  mm.add('(max-width: 1040px)', () => {\n    const moveAfterButton = () => nav.insertAdjacentElement('beforeend', menu);\n    const restoreOriginal = () => placeholder.parentNode.insertBefore(menu, placeholder);\n    menu.removeAttribute('open');\n\n    const tl = gsap.timeline({\n      paused: true,\n      defaults: { duration: 0.30, ease: 'power2.out', immediateRender: false },\n      onStart() {\n        lockScroll();\n        moveAfterButton();\n        menu.setAttribute('open', '');\n        btn.setAttribute('aria-expanded', 'true');\n      },\n      onReverseComplete() {\n        unlockScroll();\n        gsap.set(menu, { clearProps: 'all' });\n        gsap.set(items, { clearProps: 'all' });\n        menu.removeAttribute('open');\n        btn.setAttribute('aria-expanded', 'false');\n        restoreOriginal();\n      }\n    });\n\n    tl.set(menu, { display: 'block' }, 0)\n      .fromTo(menu, { yPercent: -100, opacity: 0 }, { yPercent: 0, opacity: 1 }, 0)\n      .set(items, { y: -30, opacity: 0 }, 0)\n      .to(items, { y: 0, opacity: 1, stagger: 0.04, duration: 0.3 }, '-=0.2');\n\n    const onClick = () => {\n      if (tl.isActive()) return;\n      (tl.reversed() || tl.progress() === 0) ? tl.play() : tl.reverse();\n    };\n    const onKey = (e) => {\n      if (e.key === 'Escape' && tl.progress() > 0 && !tl.reversed()) tl.reverse();\n    };\n\n    btn.addEventListener('click', onClick);\n    document.addEventListener('keydown', onKey);\n\n    return () => {\n      unlockScroll(); // falls noch aktiv\n      btn.removeEventListener('click', onClick);\n      document.removeEventListener('keydown', onKey);\n      tl.kill();\n      gsap.set(menu, { clearProps: 'all' });\n      gsap.set(items, { clearProps: 'all' });\n      menu.removeAttribute('open');\n      btn.setAttribute('aria-expanded', 'false');\n      restoreOriginal();\n    };\n  });\n}","export function initTimer() {\n  document.addEventListener('DOMContentLoaded', () => {\n    const els = document.querySelectorAll('[data-cu-counter=\"timer\"]');\n\n    els.forEach((el, i) => {\n      const storageKey = `cu-timer-${i}`;\n      const text = el.textContent.trim();\n      const [mm, ss] = text.split(':').map(Number);\n      const startSeconds = mm * 60 + ss;\n\n      let endTime = localStorage.getItem(storageKey);\n\n      if (!endTime) {\n        endTime = Date.now() + startSeconds * 1000;\n        localStorage.setItem(storageKey, endTime);\n      } else {\n        endTime = parseInt(endTime, 10);\n      }\n\n      const update = () => {\n        const remaining = Math.floor((endTime - Date.now()) / 1000);\n\n        if (remaining <= 0) {\n          clearInterval(interval);\n          el.textContent = \"00:00\";\n          localStorage.removeItem(storageKey);\n          return;\n        }\n\n        const m = String(Math.floor(remaining / 60)).padStart(2, '0');\n        const s = String(remaining % 60).padStart(2, '0');\n        el.textContent = `${m}:${s}`;\n      };\n\n      // gleich einmal initial aktualisieren (aber noch hidden lassen)\n      update();\n\n      const interval = setInterval(update, 1000);\n\n      // Sichtbar machen erst nach der ersten Sekunde\n      setTimeout(() => {\n        el.style.visibility = \"visible\";\n      }, 1000);\n    });\n  });\n}","import {initHorizontalSlider} from './features/horizontal-slider.js';\nimport {initDetailsAnimate} from './features/details-animate.js';\nimport {initCurrentYear} from './features/currentYear.js';\nimport {initFABScrollShow} from './features/fab-scroll.js';\nimport {initGlobalNav} from './features/global-nav.js';\nimport {initTimer} from './features/timer.js';\n\n(function () {\n  const init = () => {\n    initCurrentYear();\n    initDetailsAnimate();\n    initHorizontalSlider();\n    initFABScrollShow();\n    initCUSlider();\n    initTimer();\n    initGlobalNav();\n  };\n\n  if (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", init, { once: true });\n  } else {\n    init(); // DOM schon fertig -> direkt starten\n  }\n})();\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["initHorizontalSlider","debounce","fn","delay","t","args","slider","wrapper","btnRight","btnLeft","buttonGroup","wrapRightMain","wrapLeftMain","getItems","scrollToItem","index","items","getCenteredIndex","centerX","closest","minDist","item","i","rect","itemCenter","dist","scrollToNext","scrollToPrevious","updateButtons","scrollLeft","maxScrollLeft","atStart","atEnd","initDetailsAnimate","hasGSAP","isHoverAllowedForViewport","breakpoint","getBool","el","attr","defaultValue","val","getInt","n","detail","summary","content","childEls","hoverEnabled","hoverMinWidth","hoverDelay","wantsAnimation","hoverActive","hoverClickWindowActive","hoverClickTimeoutId","clearHoverClickTimeout","outsideHandler","autoclose","addOutside","e","path","closePanel","removeOutside","canAnimate","tl","api","gsap","openPanel","initCurrentYear","currentYear","nodes","initFABScrollShow","fabEl","parent","initGlobalNav","nav","btn","menu","placeholder","lockScroll","unlockScroll","moveAfterButton","restoreOriginal","onClick","onKey","initTimer","storageKey","text","mm","ss","startSeconds","endTime","update","remaining","interval","m","s","init"],"mappings":"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"}