function q(){const s=document.getElementById("g_nav_menu_toggle"),t=document.querySelector('label[for="g_nav_menu_toggle"]'),n=t.querySelector("use"),i=typeof window<"u"&&!!window.gsap,c=r=>{t.setAttribute("aria-label",r?"Menü schließen":"Menü öffnen"),t.setAttribute("aria-expanded",r?"true":"false")},e=r=>{n.setAttribute("href",r?"#icon-x-lg":"#icon-menu")},a=r=>{document.body.classList.toggle("u-overflow-hidden",r)},o=r=>{i&&gsap.to(document.querySelector(".g_nav_menu"),r?{display:"block",height:"calc(100vh - var(--global-nav--height))",opacity:1,duration:.3,ease:"power2.out"}:{display:"none",height:0,opacity:0,duration:.25,ease:"power2.in"})},l=()=>{const r=!!s.checked;c(r),e(r),o(r),a(r)};i&&(document.documentElement.classList.add("js-nav"),gsap.matchMedia().add("(max-width: 1040px)",()=>{gsap.set(document.querySelector(".g_nav_menu"),{height:0,opacity:0,display:"none"}),l(),s.addEventListener("change",l)}))}function P(){const s=document.querySelector(".g_nav");let t="shown";const n=50,i=350,c=()=>{t!=="shown"&&(gsap.to(s,{yPercent:0,duration:.25,ease:"power2.out",overwrite:!0}),t="shown")},e=()=>{t!=="hidden"&&(gsap.to(s,{yPercent:-100,duration:.25,ease:"power2.out",overwrite:!0}),t="hidden")},a=()=>{s.querySelectorAll("details[open]").forEach(o=>{o.dispatchEvent(new CustomEvent("details:request-close",{bubbles:!0}))})};ScrollTrigger.create({start:0,end:document.body.scrollHeight,onUpdate(o){if(o.scroll()<=n){c();return}Math.abs(o.getVelocity())<i||(o.direction===1?(a(),e()):c())}}),ScrollTrigger.addEventListener("refresh",()=>{window.scrollY<=n&&c()}),window.scrollY<=n?c():e()}function k(){const s=(t,n=100)=>{let i;return(...c)=>{clearTimeout(i),i=setTimeout(()=>t(...c),n)}};document.querySelectorAll(".horizontal_slider_container").forEach(t=>{const n=t.querySelector('[data-slider="content"]'),i=t.querySelector('[data-slider="btn-right"]'),c=t.querySelector('[data-slider="btn-left"]'),e=t.querySelector(".button_group_wrapper"),a=i?.closest(".button_main_wrap"),o=c?.closest(".button_main_wrap"),l=()=>n.querySelectorAll('[data-slider="item"]').length?Array.from(n.querySelectorAll('[data-slider="item"]')):Array.from(n.children),r=u=>{const m=l();u<0||u>=m.length||m[u].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},v=()=>{const u=l(),m=n.getBoundingClientRect().left+n.clientWidth/2;let y=0,h=1/0;return u.forEach((L,S)=>{const E=L.getBoundingClientRect(),b=E.left+E.width/2,p=Math.abs(b-m);p<h&&(h=p,y=S)}),y},f=()=>r(v()+1),w=()=>r(v()-1),g=()=>{const u=n.scrollLeft,m=n.scrollWidth-n.clientWidth,y=u<=0,h=u>=m-1;if(!(n.scrollWidth>n.clientWidth)){e?.style.setProperty("display","none"),o?.style.setProperty("display","none"),a?.style.setProperty("display","none");return}e?.style.setProperty("display","flex"),o?.style.setProperty("display",y?"none":"flex"),a?.style.setProperty("display",h?"none":"flex")};i?.addEventListener("click",f),c?.addEventListener("click",w),n?.addEventListener("scroll",s(g)),window.addEventListener("resize",s(g,150)),setTimeout(g,200)})}function x(){const t=typeof window<"u"&&!!window.gsap,n=e=>e==null?!0:window.innerWidth>e,i=(e,a,o)=>{if(!e.dataset)return o;const l=e.dataset[a];return l===void 0?o:l==="true"},c=(e,a,o)=>{if(!e.dataset)return o;const l=e.dataset[a];if(l===void 0||l==="")return o;const r=parseInt(l,10);return Number.isNaN(r)?o:r};document.querySelectorAll("details").forEach(e=>{const a=e.querySelector("summary"),o=a?.nextElementSibling;if(!o)return;const l=[...o.children],r=i(e,"hover",!1),v=c(e,"hoverMinWidth",null),f=c(e,"hoverDelay",750),w=i(e,"animate",!0);let g=!1,u=!1,m;const y=()=>{m&&(clearTimeout(m),m=null)};let h=null;const L=i(e,"autoclose",!1),S=()=>{!L||h||(h=d=>{if(!e.open)return;const C=d.composedPath?d.composedPath():[];(C.length?C.includes(a)||C.includes(o):a.contains(d.target)||o.contains(d.target))||_()},document.addEventListener("pointerdown",h,{capture:!0}))},E=()=>{h&&(document.removeEventListener("pointerdown",h,{capture:!0}),h=null)},b=t&&w;let p=null;const A={open:()=>{e.open=!0},close:()=>{e.open=!1}};if(b){const d=window.gsap;d.set(o,{height:0,overflow:"hidden"}),d.set(l,{opacity:0}),p=d.timeline({paused:!0,defaults:{duration:.35,ease:"power2.out"},onReverseComplete:()=>{e.open=!1,E()}}),p.set(e,{attr:{open:""}},0),p.to(o,{height:()=>o.scrollHeight}),p.set(o,{clearProps:"height"}),p.to(l,{opacity:1,stagger:.04,duration:.38},"-=0.25"),A.open=()=>{p.invalidate().play(0),S()},A.close=()=>{p.reverse()}}function I(){A.open(),b||S()}function _(){A.close(),b||E()}e.addEventListener("details:request-close",d=>{d.stopPropagation(),e.open&&_()}),a.addEventListener("click",d=>{if(d.preventDefault(),!e.open)I();else{if(g&&u){S();return}_()}}),r&&(e.addEventListener("mouseenter",()=>{n(v)&&(e.open||(g=!0,u=!0,y(),m=setTimeout(()=>{u=!1},f),I()))}),e.addEventListener("mouseleave",()=>{g&&(g=!1,u=!1,y(),e.open&&_())}))})}function D(){const s=String(new Date().getFullYear()),t=document.querySelectorAll('time[datetime="currentYear"]');t.length!==0&&t.forEach(n=>{n.setAttribute("datetime",s),n.textContent=s})}function M(){gsap.registerPlugin(ScrollTrigger),document.querySelectorAll(".fab-section-center-bottom").forEach(s=>{const t=s.parentElement;t&&(gsap.set(s,{autoAlpha:0}),gsap.to(s,{autoAlpha:1,duration:1,ease:"power2.out",scrollTrigger:{trigger:t,start:"top+=150px bottom",toggleActions:"play none none reverse"}}))})}function N(){const s=document.querySelectorAll('[data-cu-counter="timer"]');s.length&&s.forEach((t,n)=>{const i=`cu-timer-${n}`,c=t.textContent.trim(),[e,a]=c.split(":").map(Number),o=e*60+a;let l=localStorage.getItem(i);l?l=parseInt(l,10):(l=Date.now()+o*1e3,localStorage.setItem(i,l));const r=()=>{const f=Math.floor((l-Date.now())/1e3);if(f<=0){clearInterval(v),t.textContent="00:00",localStorage.removeItem(i);return}const w=String(Math.floor(f/60)).padStart(2,"0"),g=String(f%60).padStart(2,"0");t.textContent=`${w}:${g}`};r();const v=setInterval(r,1e3);setTimeout(()=>{t.style.visibility="visible"},1e3)})}function H(){const s=["u-theme-dark","u-theme-light"],t=document.documentElement,n=document.getElementById("tgl-theme");if(!n){console.warn('Toggle-Button mit ID "tgl-theme" nicht gefunden.');return}n.addEventListener("click",()=>{const c=t.classList.contains("u-theme-dark")?"u-theme-light":"u-theme-dark";t.classList.remove(...s),t.classList.add(c),t.setAttribute("color-scheme",c==="u-theme-dark"?"dark":"light");try{localStorage.setItem("theme",c)}catch{}})}function O(){document.querySelectorAll('[cu-list-sort="abc"]').forEach(t=>{const n=Array.from(t.children);n.sort((i,c)=>i.textContent.trim().localeCompare(c.textContent.trim(),"de",{sensitivity:"base"})),n.forEach(i=>t.appendChild(i))})}function T(){H(),D(),x(),k(),M(),N(),q(),P(),O()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",T,{once:!0}):T();
