function C(){const s=(t,n=100)=>{let a;return(...c)=>{clearTimeout(a),a=setTimeout(()=>t(...c),n)}};document.querySelectorAll(".horizontal_slider_container").forEach(t=>{const n=t.querySelector('[data-slider="content"]'),a=t.querySelector('[data-slider="btn-right"]'),c=t.querySelector('[data-slider="btn-left"]'),e=t.querySelector(".button_group_wrapper"),l=a?.closest(".button_main_wrap"),o=c?.closest(".button_main_wrap"),i=()=>n.querySelectorAll('[data-slider="item"]').length?Array.from(n.querySelectorAll('[data-slider="item"]')):Array.from(n.children),r=u=>{const m=i();u<0||u>=m.length||m[u].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},y=()=>{const u=i(),m=n.getBoundingClientRect().left+n.clientWidth/2;let v=0,h=1/0;return u.forEach((L,S)=>{const b=L.getBoundingClientRect(),E=b.left+b.width/2,p=Math.abs(E-m);p<h&&(h=p,v=S)}),v},f=()=>r(y()+1),w=()=>r(y()-1),g=()=>{const u=n.scrollLeft,m=n.scrollWidth-n.clientWidth,v=u<=0,h=u>=m-1;if(!(n.scrollWidth>n.clientWidth)){e?.style.setProperty("display","none"),o?.style.setProperty("display","none"),l?.style.setProperty("display","none");return}e?.style.setProperty("display","flex"),o?.style.setProperty("display",v?"none":"flex"),l?.style.setProperty("display",h?"none":"flex")};a?.addEventListener("click",f),c?.addEventListener("click",w),n?.addEventListener("scroll",s(g)),window.addEventListener("resize",s(g,150)),setTimeout(g,200)})}function q(){const t=typeof window<"u"&&!!window.gsap,n=e=>e==null?!0:window.innerWidth>e,a=(e,l,o)=>{if(!e.dataset)return o;const i=e.dataset[l];return i===void 0?o:i==="true"},c=(e,l,o)=>{if(!e.dataset)return o;const i=e.dataset[l];if(i===void 0||i==="")return o;const r=parseInt(i,10);return Number.isNaN(r)?o:r};document.querySelectorAll("details").forEach(e=>{const l=e.querySelector("summary"),o=l?.nextElementSibling;if(!o)return;const i=[...o.children],r=a(e,"hover",!1),y=c(e,"hoverMinWidth",null),f=c(e,"hoverDelay",750),w=a(e,"animate",!0);let g=!1,u=!1,m;const v=()=>{m&&(clearTimeout(m),m=null)};let h=null;const L=a(e,"autoclose",!1),S=()=>{!L||h||(h=d=>{if(!e.open)return;const I=d.composedPath?d.composedPath():[];(I.length?I.includes(l)||I.includes(o):l.contains(d.target)||o.contains(d.target))||_()},document.addEventListener("pointerdown",h,{capture:!0}))},b=()=>{h&&(document.removeEventListener("pointerdown",h,{capture:!0}),h=null)},E=t&&w;let p=null;const A={open:()=>{e.open=!0},close:()=>{e.open=!1}};if(E){const d=window.gsap;d.set(o,{height:0,overflow:"hidden"}),d.set(i,{opacity:0}),p=d.timeline({paused:!0,defaults:{duration:.35,ease:"power2.out"},onReverseComplete:()=>{e.open=!1,b()}}),p.set(e,{attr:{open:""}},0),p.to(o,{height:()=>o.scrollHeight}),p.set(o,{clearProps:"height"}),p.to(i,{opacity:1,stagger:.04,duration:.38},"-=0.25"),A.open=()=>{p.invalidate().play(0),S()},A.close=()=>{p.reverse()}}function T(){A.open(),E||S()}function _(){A.close(),E||b()}e.addEventListener("details:request-close",d=>{d.stopPropagation(),e.open&&_()}),l.addEventListener("click",d=>{if(d.preventDefault(),!e.open)T();else{if(g&&u){S();return}_()}}),r&&(e.addEventListener("mouseenter",()=>{n(y)&&(e.open||(g=!0,u=!0,v(),m=setTimeout(()=>{u=!1},f),T()))}),e.addEventListener("mouseleave",()=>{g&&(g=!1,u=!1,v(),e.open&&_())}))})}function P(){const s=String(new Date().getFullYear()),t=document.querySelectorAll('time[datetime="currentYear"]');t.length!==0&&t.forEach(n=>{n.setAttribute("datetime",s),n.textContent=s})}function k(){gsap.registerPlugin(ScrollTrigger),document.querySelectorAll(".fab-section-center-bottom").forEach(s=>{const t=s.parentElement;t&&(gsap.set(s,{autoAlpha:0}),gsap.to(s,{autoAlpha:1,duration:1,ease:"power2.out",scrollTrigger:{trigger:t,start:"top+=150px bottom",toggleActions:"play none none reverse"}}))})}function D(){const s=document.getElementById("g_nav_menu_toggle"),t=document.querySelector('label[for="g_nav_menu_toggle"]'),n=t.querySelector("use"),a=typeof window<"u"&&!!window.gsap,c=r=>{t.setAttribute("aria-label",r?"Menü schließen":"Menü öffnen"),t.setAttribute("aria-expanded",r?"true":"false")},e=r=>{n.setAttribute("href",r?"#icon-x-lg":"#icon-menu")},l=r=>{document.body.classList.toggle("u-overflow-hidden",r)},o=r=>{a&&gsap.to(document.querySelector(".g_nav_menu"),r?{display:"block",height:"calc(100vh - var(--global-nav--height))",opacity:1,duration:.3,ease:"power2.out"}:{display:"none",height:0,opacity:0,duration:.25,ease:"power2.in"})},i=()=>{const r=!!s.checked;c(r),e(r),o(r),l(r)};a&&(document.documentElement.classList.add("js-nav"),gsap.matchMedia().add("(max-width: 1040px)",()=>{gsap.set(document.querySelector(".g_nav_menu"),{height:0,opacity:0,display:"none"}),i(),s.addEventListener("change",i)}))}function M(){const s=document.querySelector(".g_nav");let t="shown";const n=50,a=350,c=()=>{t!=="shown"&&(gsap.to(s,{yPercent:0,duration:.25,ease:"power2.out",overwrite:!0}),t="shown")},e=()=>{t!=="hidden"&&(gsap.to(s,{yPercent:-100,duration:.25,ease:"power2.out",overwrite:!0}),t="hidden")},l=()=>{s.querySelectorAll("details[open]").forEach(o=>{o.dispatchEvent(new CustomEvent("details:request-close",{bubbles:!0}))})};ScrollTrigger.create({start:0,end:document.body.scrollHeight,onUpdate(o){if(o.scroll()<=n){c();return}Math.abs(o.getVelocity())<a||(o.direction===1?(l(),e()):c())}}),ScrollTrigger.addEventListener("refresh",()=>{window.scrollY<=n&&c()}),window.scrollY<=n?c():e()}function x(){document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[data-cu-counter="timer"]').forEach((t,n)=>{const a=`cu-timer-${n}`,c=t.textContent.trim(),[e,l]=c.split(":").map(Number),o=e*60+l;let i=localStorage.getItem(a);i?i=parseInt(i,10):(i=Date.now()+o*1e3,localStorage.setItem(a,i));const r=()=>{const f=Math.floor((i-Date.now())/1e3);if(f<=0){clearInterval(y),t.textContent="00:00",localStorage.removeItem(a);return}const w=String(Math.floor(f/60)).padStart(2,"0"),g=String(f%60).padStart(2,"0");t.textContent=`${w}:${g}`};r();const y=setInterval(r,1e3);setTimeout(()=>{t.style.visibility="visible"},1e3)})})}function N(){const s=["u-theme-dark","u-theme-light"],t=document.body,n=document.getElementById("tgl-theme");if(!n){console.warn('Toggle-Button mit ID "tgl-theme" nicht gefunden.');return}n.addEventListener("click",()=>{const c=t.classList.contains("u-theme-dark")?"u-theme-light":"u-theme-dark";t.classList.remove(...s),t.classList.add(c),t.setAttribute("color-scheme",c==="u-theme-dark"?"dark":"light");try{localStorage.setItem("theme",c)}catch{}})}(function(){const s=()=>{N(),P(),q(),C(),k(),x(),D(),M()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",s,{once:!0}):s()})();
