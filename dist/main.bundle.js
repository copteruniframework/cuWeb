function q(){const r=(t,n=100)=>{let l;return(...c)=>{clearTimeout(l),l=setTimeout(()=>t(...c),n)}};document.querySelectorAll(".horizontal_slider_container").forEach(t=>{const n=t.querySelector('[data-slider="content"]'),l=t.querySelector('[data-slider="btn-right"]'),c=t.querySelector('[data-slider="btn-left"]'),e=t.querySelector(".button_group_wrapper"),a=l?.closest(".button_main_wrap"),o=c?.closest(".button_main_wrap"),i=()=>n.querySelectorAll('[data-slider="item"]').length?Array.from(n.querySelectorAll('[data-slider="item"]')):Array.from(n.children),s=u=>{const m=i();u<0||u>=m.length||m[u].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},v=()=>{const u=i(),m=n.getBoundingClientRect().left+n.clientWidth/2;let y=0,h=1/0;return u.forEach((L,S)=>{const b=L.getBoundingClientRect(),E=b.left+b.width/2,p=Math.abs(E-m);p<h&&(h=p,y=S)}),y},f=()=>s(v()+1),w=()=>s(v()-1),g=()=>{const u=n.scrollLeft,m=n.scrollWidth-n.clientWidth,y=u<=0,h=u>=m-1;if(!(n.scrollWidth>n.clientWidth)){e?.style.setProperty("display","none"),o?.style.setProperty("display","none"),a?.style.setProperty("display","none");return}e?.style.setProperty("display","flex"),o?.style.setProperty("display",y?"none":"flex"),a?.style.setProperty("display",h?"none":"flex")};l?.addEventListener("click",f),c?.addEventListener("click",w),n?.addEventListener("scroll",r(g)),window.addEventListener("resize",r(g,150)),setTimeout(g,200)})}function C(){const t=typeof window<"u"&&!!window.gsap,n=e=>e==null?!0:window.innerWidth>e,l=(e,a,o)=>{if(!e.dataset)return o;const i=e.dataset[a];return i===void 0?o:i==="true"},c=(e,a,o)=>{if(!e.dataset)return o;const i=e.dataset[a];if(i===void 0||i==="")return o;const s=parseInt(i,10);return Number.isNaN(s)?o:s};document.querySelectorAll("details").forEach(e=>{const a=e.querySelector("summary"),o=a?.nextElementSibling;if(!o)return;const i=[...o.children],s=l(e,"hover",!1),v=c(e,"hoverMinWidth",null),f=c(e,"hoverDelay",750),w=l(e,"animate",!0);let g=!1,u=!1,m;const y=()=>{m&&(clearTimeout(m),m=null)};let h=null;const L=l(e,"autoclose",!1),S=()=>{!L||h||(h=d=>{if(!e.open)return;const I=d.composedPath?d.composedPath():[];(I.length?I.includes(a)||I.includes(o):a.contains(d.target)||o.contains(d.target))||_()},document.addEventListener("pointerdown",h,{capture:!0}))},b=()=>{h&&(document.removeEventListener("pointerdown",h,{capture:!0}),h=null)},E=t&&w;let p=null;const A={open:()=>{e.open=!0},close:()=>{e.open=!1}};if(E){const d=window.gsap;d.set(o,{height:0,overflow:"hidden"}),d.set(i,{opacity:0}),p=d.timeline({paused:!0,defaults:{duration:.35,ease:"power2.out"},onReverseComplete:()=>{e.open=!1,b()}}),p.set(e,{attr:{open:""}},0),p.to(o,{height:()=>o.scrollHeight}),p.set(o,{clearProps:"height"}),p.to(i,{opacity:1,stagger:.04,duration:.38},"-=0.25"),A.open=()=>{p.invalidate().play(0),S()},A.close=()=>{p.reverse()}}function T(){A.open(),E||S()}function _(){A.close(),E||b()}e.addEventListener("details:request-close",d=>{d.stopPropagation(),e.open&&_()}),a.addEventListener("click",d=>{if(d.preventDefault(),!e.open)T();else{if(g&&u){S();return}_()}}),s&&(e.addEventListener("mouseenter",()=>{n(v)&&(e.open||(g=!0,u=!0,y(),m=setTimeout(()=>{u=!1},f),T()))}),e.addEventListener("mouseleave",()=>{g&&(g=!1,u=!1,y(),e.open&&_())}))})}function P(){const r=String(new Date().getFullYear()),t=document.querySelectorAll('time[datetime="currentYear"]');t.length!==0&&t.forEach(n=>{n.setAttribute("datetime",r),n.textContent=r})}function k(){gsap.registerPlugin(ScrollTrigger),document.querySelectorAll(".fab-section-center-bottom").forEach(r=>{const t=r.parentElement;t&&(gsap.set(r,{autoAlpha:0}),gsap.to(r,{autoAlpha:1,duration:1,ease:"power2.out",scrollTrigger:{trigger:t,start:"top+=150px bottom",toggleActions:"play none none reverse"}}))})}function D(){const r=document.getElementById("g_nav_menu_toggle"),t=document.querySelector('label[for="g_nav_menu_toggle"]'),n=t.querySelector("use"),l=typeof window<"u"&&!!window.gsap,c=s=>{t.setAttribute("aria-label",s?"Menü schließen":"Menü öffnen"),t.setAttribute("aria-expanded",s?"true":"false")},e=s=>{n.setAttribute("href",s?"#icon-x-lg":"#icon-menu")},a=s=>{document.body.classList.toggle("u-overflow-hidden",s)},o=s=>{l&&gsap.to(document.querySelector(".g_nav_menu"),s?{display:"block",height:"calc(100vh - var(--global-nav--height))",opacity:1,duration:.3,ease:"power2.out"}:{display:"none",height:0,opacity:0,duration:.25,ease:"power2.in"})},i=()=>{const s=!!r.checked;c(s),e(s),o(s),a(s)};l&&(document.documentElement.classList.add("js-nav"),gsap.matchMedia().add("(max-width: 1040px)",()=>{gsap.set(document.querySelector(".g_nav_menu"),{height:0,opacity:0,display:"none"}),i(),r.addEventListener("change",i)}))}function M(){const r=document.querySelector(".g_nav");let t="shown";const n=50,l=350,c=()=>{t!=="shown"&&(gsap.to(r,{yPercent:0,duration:.25,ease:"power2.out",overwrite:!0}),t="shown")},e=()=>{t!=="hidden"&&(gsap.to(r,{yPercent:-100,duration:.25,ease:"power2.out",overwrite:!0}),t="hidden")},a=()=>{r.querySelectorAll("details[open]").forEach(o=>{o.dispatchEvent(new CustomEvent("details:request-close",{bubbles:!0}))})};ScrollTrigger.create({start:0,end:document.body.scrollHeight,onUpdate(o){if(o.scroll()<=n){c();return}Math.abs(o.getVelocity())<l||(o.direction===1?(a(),e()):c())}}),ScrollTrigger.addEventListener("refresh",()=>{window.scrollY<=n&&c()}),window.scrollY<=n?c():e()}function x(){const r=document.querySelectorAll('[data-cu-counter="timer"]');r.length&&r.forEach((t,n)=>{const l=`cu-timer-${n}`,c=t.textContent.trim(),[e,a]=c.split(":").map(Number),o=e*60+a;let i=localStorage.getItem(l);i?i=parseInt(i,10):(i=Date.now()+o*1e3,localStorage.setItem(l,i));const s=()=>{const f=Math.floor((i-Date.now())/1e3);if(f<=0){clearInterval(v),t.textContent="00:00",localStorage.removeItem(l);return}const w=String(Math.floor(f/60)).padStart(2,"0"),g=String(f%60).padStart(2,"0");t.textContent=`${w}:${g}`};s();const v=setInterval(s,1e3);setTimeout(()=>{t.style.visibility="visible"},1e3)})}function N(){const r=["u-theme-dark","u-theme-light"],t=document.body,n=document.getElementById("tgl-theme");if(!n){console.warn('Toggle-Button mit ID "tgl-theme" nicht gefunden.');return}n.addEventListener("click",()=>{const c=t.classList.contains("u-theme-dark")?"u-theme-light":"u-theme-dark";t.classList.remove(...r),t.classList.add(c),t.setAttribute("color-scheme",c==="u-theme-dark"?"dark":"light");try{localStorage.setItem("theme",c)}catch{}})}(function(){const r=()=>{N(),P(),C(),q(),k(),x(),D(),M()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r,{once:!0}):r()})();
